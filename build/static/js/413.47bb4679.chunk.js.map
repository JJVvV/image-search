{"version":3,"file":"static/js/413.47bb4679.chunk.js","mappings":"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","sources":["components/placeholder/placeholder.component.tsx","pages/building/building.component.tsx","pages/building/footer/footer.component.tsx","pages/building/rooms/rooms.component.tsx","webpack://lishui_population_reporting_mobile/./src/components/placeholder/placeholder.component.sass?2982","webpack://lishui_population_reporting_mobile/./src/pages/building/footer/footer.component.sass?d8cf","webpack://lishui_population_reporting_mobile/./src/pages/building/rooms/rooms.component.sass?0945"],"sourcesContent":["import React from 'react'\r\nimport styles from './placeholder.component.sass'\r\n\r\ntype Props = {\r\n  title: string\r\n}\r\nexport const Placeholder: React.FC<Props> = React.memo((props) => {\r\n  return (\r\n    <div className={styles['placeholder']}>\r\n      <div className={styles['img']}></div>\r\n      <div className={styles['title']}>{props.title}</div>\r\n    </div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport { Rooms } from './rooms'\r\nimport { Layout } from '@/components/layout'\r\nimport { Footer } from './footer'\r\nimport { useRooms } from '@/hooks'\r\nimport { Placeholder } from '@/components/placeholder'\r\n\r\nexport const Building: React.FC = React.memo(() => {\r\n  const currentLevel = 3\r\n  const data = useRooms()\r\n  if (!data) {\r\n    return null\r\n  }\r\n  const renderRooms = () => {\r\n    if (data && !data.length) {\r\n      return <Placeholder title=\"暂无内容\" />\r\n    }\r\n    return <Rooms data={data} />\r\n  }\r\n  return (\r\n    <Layout level={currentLevel}>\r\n      {renderRooms()}\r\n      <Footer />\r\n    </Layout>\r\n  )\r\n})\r\n","import React, { useState } from 'react'\r\nimport { Button, Modal, Input, Form } from 'antd-mobile'\r\nimport styles from './footer.component.sass'\r\nimport { useEventCallback, useStore } from '@/hooks'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst FormContent = React.memo((props: { id: number; form: any }) => {\r\n  const [value, setValue] = useState<string>('')\r\n  return (\r\n    <Form\r\n      form={props.form}\r\n      layout=\"vertical\"\r\n      footer={null}\r\n      className={styles['form']}\r\n    >\r\n      <Form.Item\r\n        name=\"name\"\r\n        label=\"请输入居住户号\"\r\n        rules={[\r\n          { required: true, message: '户号不能为空' }\r\n          // { validator: checkNumber }\r\n        ]}\r\n      >\r\n        <Input\r\n          className={styles['input']}\r\n          value={value}\r\n          type=\"number\"\r\n          onChange={setValue}\r\n          placeholder=\"请输入户号\"\r\n        />\r\n      </Form.Item>\r\n      <div>\r\n        {/* <Button\r\n          className={styles['button']}\r\n          type=\"submit\"\r\n          loading={isLoading}\r\n          onClick={onSubmit}\r\n          color=\"primary\"\r\n          size=\"middle\"\r\n        >\r\n          提交\r\n        </Button> */}\r\n      </div>\r\n    </Form>\r\n  )\r\n})\r\n\r\nexport const Footer: React.FC = React.memo(() => {\r\n  const { id } = useParams()\r\n  const store = useStore()\r\n  const [form] = Form.useForm<{ name: string }>()\r\n  const onClick = useEventCallback(() => {\r\n    Modal.confirm({\r\n      title: '添加户号',\r\n      content: <FormContent form={form} id={Number(id)} />,\r\n      async onConfirm() {\r\n        const values = await form.validateFields()\r\n        await store.addRoom(Number(id), values.name)\r\n      }\r\n    })\r\n  })\r\n  return (\r\n    <div className={styles['footer']}>\r\n      <Button block color=\"primary\" size=\"middle\" onClick={onClick}>\r\n        添加户号\r\n      </Button>\r\n    </div>\r\n  )\r\n})\r\n","import React, { useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useEventCallback, useStore, useUserFormStore } from '@/hooks'\r\nimport styles from './rooms.component.sass'\r\n\r\ntype Props = {\r\n  data: IRoom[]\r\n}\r\n\r\ntype ItemProps<T> = {\r\n  name: string\r\n  id: number\r\n  status?: boolean\r\n  data: T\r\n  onClick(data: T): void\r\n}\r\n\r\nexport const RoomItem: React.FC<ItemProps<IRoom>> = React.memo((props) => {\r\n  const onClick = useEventCallback(() => {\r\n    props.onClick(props.data)\r\n  })\r\n  const renderStatus = () => {\r\n    return props.status ? (\r\n      <span className={styles['status']}>待采集</span>\r\n    ) : null\r\n  }\r\n  return (\r\n    <div className={styles['item']} onClick={onClick}>\r\n      <div className={styles['building-icon']}></div>\r\n      <div className={styles['name']}>{props.name}</div>\r\n      {renderStatus()}\r\n      <div className={styles['right-icon']}></div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport const Rooms: React.FC<Props> = React.memo((props) => {\r\n  const { data } = props\r\n  const store = useStore()\r\n  const navigate = useNavigate()\r\n  const userFormStore = useUserFormStore()\r\n  useEffect(() => {\r\n    userFormStore.reset()\r\n  }, [])\r\n  const items = data?.map((item) => {\r\n    if (!item) {\r\n      return null\r\n    }\r\n    const onClick = () => {\r\n      store.setRoom(item)\r\n      navigate('/5/' + item.id)\r\n    }\r\n    return (\r\n      <RoomItem\r\n        status={item.toBeCollect}\r\n        id={item.id}\r\n        key={item.id}\r\n        name={item.name}\r\n        data={item}\r\n        onClick={onClick}\r\n      />\r\n    )\r\n  })\r\n  return <div className={styles['wrapper']}>{items}</div>\r\n})\r\n","// extracted by mini-css-extract-plugin\nexport default {\"placeholder\":\"placeholder_component_placeholder__IehCM\",\"img\":\"placeholder_component_img__pIJNd\",\"title\":\"placeholder_component_title__9mXVB\"};","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"footer_component_footer__EfxgT\",\"form\":\"footer_component_form__ZhcAj\",\"label\":\"footer_component_label__chSGH\",\"input\":\"footer_component_input__9wDWI\",\"tip\":\"footer_component_tip__3MdG6\",\"warning-icon\":\"footer_component_warning-icon__ce7Is\",\"button\":\"footer_component_button__E-ger\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"rooms_component_wrapper__uLWH1\",\"item\":\"rooms_component_item__FlcZx\",\"building-icon\":\"rooms_component_building-icon__-38Sa\",\"name\":\"rooms_component_name__8mzfH\",\"status\":\"rooms_component_status__skMgJ\",\"right-icon\":\"rooms_component_right-icon__hIJcc\"};"],"names":["Placeholder","React","props","className","styles","title","Building","data","useRooms","level","length","FormContent","useState","value","setValue","form","layout","footer","name","label","rules","required","message","type","onChange","placeholder","Footer","id","useParams","store","useStore","Form","onClick","useEventCallback","Modal","content","Number","onConfirm","validateFields","values","addRoom","block","color","size","RoomItem","status","Rooms","navigate","useNavigate","userFormStore","useUserFormStore","useEffect","reset","items","map","item","toBeCollect","setRoom"],"sourceRoot":""}