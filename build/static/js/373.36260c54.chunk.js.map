{"version":3,"file":"static/js/373.36260c54.chunk.js","mappings":"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","sources":["components/placeholder/placeholder.component.tsx","pages/building/footer/footer.component.tsx","pages/building/rooms/rooms.component.tsx","pages/community2/buildings/buildings.component.tsx","pages/community2/community2.component.tsx","webpack://lishui_population_reporting_mobile/./src/components/placeholder/placeholder.component.sass?2982","webpack://lishui_population_reporting_mobile/./src/pages/building/footer/footer.component.sass?d8cf","webpack://lishui_population_reporting_mobile/./src/pages/building/rooms/rooms.component.sass?0945","webpack://lishui_population_reporting_mobile/./src/pages/community2/buildings/buildings.component.sass?7fac"],"sourcesContent":["import React from 'react'\r\nimport styles from './placeholder.component.sass'\r\n\r\ntype Props = {\r\n  title: string\r\n}\r\nexport const Placeholder: React.FC<Props> = React.memo((props) => {\r\n  return (\r\n    <div className={styles['placeholder']}>\r\n      <div className={styles['img']}></div>\r\n      <div className={styles['title']}>{props.title}</div>\r\n    </div>\r\n  )\r\n})\r\n","import React, { useState } from 'react'\r\nimport { Button, Modal, Input, Form } from 'antd-mobile'\r\nimport styles from './footer.component.sass'\r\nimport { useEventCallback, useStore } from '@/hooks'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst FormContent = React.memo((props: { id: number; form: any }) => {\r\n  const [value, setValue] = useState<string>('')\r\n  return (\r\n    <Form\r\n      form={props.form}\r\n      layout=\"vertical\"\r\n      footer={null}\r\n      className={styles['form']}\r\n    >\r\n      <Form.Item\r\n        name=\"name\"\r\n        label=\"请输入居住户号\"\r\n        rules={[\r\n          { required: true, message: '户号不能为空' }\r\n          // { validator: checkNumber }\r\n        ]}\r\n      >\r\n        <Input\r\n          className={styles['input']}\r\n          value={value}\r\n          type=\"number\"\r\n          onChange={setValue}\r\n          placeholder=\"请输入户号\"\r\n        />\r\n      </Form.Item>\r\n      <div>\r\n        {/* <Button\r\n          className={styles['button']}\r\n          type=\"submit\"\r\n          loading={isLoading}\r\n          onClick={onSubmit}\r\n          color=\"primary\"\r\n          size=\"middle\"\r\n        >\r\n          提交\r\n        </Button> */}\r\n      </div>\r\n    </Form>\r\n  )\r\n})\r\n\r\nexport const Footer: React.FC = React.memo(() => {\r\n  const { id } = useParams()\r\n  const store = useStore()\r\n  const [form] = Form.useForm<{ name: string }>()\r\n  const onClick = useEventCallback(() => {\r\n    Modal.confirm({\r\n      title: '添加户号',\r\n      content: <FormContent form={form} id={Number(id)} />,\r\n      async onConfirm() {\r\n        const values = await form.validateFields()\r\n        await store.addRoom(Number(id), values.name)\r\n      }\r\n    })\r\n  })\r\n  return (\r\n    <div className={styles['footer']}>\r\n      <Button block color=\"primary\" size=\"middle\" onClick={onClick}>\r\n        添加户号\r\n      </Button>\r\n    </div>\r\n  )\r\n})\r\n","import React, { useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useEventCallback, useStore, useUserFormStore } from '@/hooks'\r\nimport styles from './rooms.component.sass'\r\n\r\ntype Props = {\r\n  data: IRoom[]\r\n}\r\n\r\ntype ItemProps<T> = {\r\n  name: string\r\n  id: number\r\n  status?: boolean\r\n  data: T\r\n  onClick(data: T): void\r\n}\r\n\r\nexport const RoomItem: React.FC<ItemProps<IRoom>> = React.memo((props) => {\r\n  const onClick = useEventCallback(() => {\r\n    props.onClick(props.data)\r\n  })\r\n  const renderStatus = () => {\r\n    return props.status ? (\r\n      <span className={styles['status']}>待采集</span>\r\n    ) : null\r\n  }\r\n  return (\r\n    <div className={styles['item']} onClick={onClick}>\r\n      <div className={styles['building-icon']}></div>\r\n      <div className={styles['name']}>{props.name}</div>\r\n      {renderStatus()}\r\n      <div className={styles['right-icon']}></div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport const Rooms: React.FC<Props> = React.memo((props) => {\r\n  const { data } = props\r\n  const store = useStore()\r\n  const navigate = useNavigate()\r\n  const userFormStore = useUserFormStore()\r\n  useEffect(() => {\r\n    userFormStore.reset()\r\n  }, [])\r\n  const items = data?.map((item) => {\r\n    if (!item) {\r\n      return null\r\n    }\r\n    const onClick = () => {\r\n      store.setRoom(item)\r\n      navigate('/5/' + item.id)\r\n    }\r\n    return (\r\n      <RoomItem\r\n        status={item.toBeCollect}\r\n        id={item.id}\r\n        key={item.id}\r\n        name={item.name}\r\n        data={item}\r\n        onClick={onClick}\r\n      />\r\n    )\r\n  })\r\n  return <div className={styles['wrapper']}>{items}</div>\r\n})\r\n","import React from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useBuildings, useEventCallback, useStore } from '@/hooks'\r\nimport styles from './buildings.component.sass'\r\nimport { Placeholder } from '@/components/placeholder'\r\nimport { RoomItem } from '@/pages/building/rooms'\r\nimport { CommunityLevel } from '@/types'\r\nimport { Footer } from '@/pages/building/footer'\r\n\r\ntype Props = {\r\n  // data: ItemProps[]\r\n}\r\n\r\ntype ItemProps<T> = {\r\n  name: string\r\n  id: number\r\n  status?: boolean\r\n  data: T\r\n  onClick(data: T): void\r\n}\r\n\r\nconst Community3Item: React.FC<ItemProps<IBuilding>> = React.memo((props) => {\r\n  const onClick = useEventCallback(() => {\r\n    props.onClick(props.data)\r\n  })\r\n  const renderStatus = () => {\r\n    return props.status ? (\r\n      <span className={styles['status']}>待采集</span>\r\n    ) : null\r\n  }\r\n  return (\r\n    <div className={styles['item']} onClick={onClick}>\r\n      <div className={styles['building-icon']}></div>\r\n      <div className={styles['name']}>{props.name}</div>\r\n      {renderStatus()}\r\n      <div className={styles['right-icon']}></div>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport const Buildings: React.FC<Props> = React.memo((props) => {\r\n  const data = useBuildings()\r\n  const navigate = useNavigate()\r\n  const store = useStore()\r\n  const isCommunity2ChildAsRoom = data?.[0]?.level === CommunityLevel.room\r\n  const renderFooter = () => {\r\n    if (isCommunity2ChildAsRoom) {\r\n      return <Footer />\r\n    }\r\n  }\r\n  const items = data?.map((item) => {\r\n    const onClick = () => {\r\n      store.setCommunityByType(item)\r\n      navigate(`/${item.level}/` + item.id)\r\n    }\r\n    if (item.level === 3) {\r\n      return (\r\n        <Community3Item\r\n          status={item.toBeCollect}\r\n          id={item.id}\r\n          key={item.id}\r\n          name={item.name}\r\n          data={item}\r\n          onClick={onClick}\r\n        />\r\n      )\r\n    } else if (item.level === 5) {\r\n      return (\r\n        <RoomItem\r\n          status={item.toBeCollect}\r\n          id={item.id}\r\n          key={item.id}\r\n          name={item.name}\r\n          data={item}\r\n          onClick={onClick}\r\n        />\r\n      )\r\n    }\r\n  })\r\n  if (data && !data.length) {\r\n    return <Placeholder title=\"暂无内容\" />\r\n  }\r\n  return (\r\n    <div\r\n      className={`${styles['wrapper']} ${\r\n        isCommunity2ChildAsRoom ? styles.rooms : ''\r\n      }`}\r\n    >\r\n      {items}\r\n      {renderFooter()}\r\n    </div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport { Buildings } from './buildings'\r\nimport { Layout } from '@/components/layout'\r\n\r\nexport const Community2: React.FC = React.memo(() => {\r\n  const currentLevel = 2\r\n  return (\r\n    <Layout level={currentLevel}>\r\n      <Buildings />\r\n    </Layout>\r\n  )\r\n})\r\n","// extracted by mini-css-extract-plugin\nexport default {\"placeholder\":\"placeholder_component_placeholder__IehCM\",\"img\":\"placeholder_component_img__pIJNd\",\"title\":\"placeholder_component_title__9mXVB\"};","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"footer_component_footer__EfxgT\",\"form\":\"footer_component_form__ZhcAj\",\"label\":\"footer_component_label__chSGH\",\"input\":\"footer_component_input__9wDWI\",\"tip\":\"footer_component_tip__3MdG6\",\"warning-icon\":\"footer_component_warning-icon__ce7Is\",\"button\":\"footer_component_button__E-ger\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"rooms_component_wrapper__uLWH1\",\"item\":\"rooms_component_item__FlcZx\",\"building-icon\":\"rooms_component_building-icon__-38Sa\",\"name\":\"rooms_component_name__8mzfH\",\"status\":\"rooms_component_status__skMgJ\",\"right-icon\":\"rooms_component_right-icon__hIJcc\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"buildings_component_item__ZWOHk\",\"building-icon\":\"buildings_component_building-icon__Cp2HZ\",\"name\":\"buildings_component_name__2FKDX\",\"status\":\"buildings_component_status__nLCg6\",\"right-icon\":\"buildings_component_right-icon__yDkOR\",\"rooms\":\"buildings_component_rooms__p+GFm\"};"],"names":["Placeholder","React","props","className","styles","title","FormContent","useState","value","setValue","form","layout","footer","name","label","rules","required","message","type","onChange","placeholder","Footer","id","useParams","store","useStore","Form","onClick","useEventCallback","Modal","content","Number","onConfirm","validateFields","values","addRoom","block","color","size","RoomItem","data","status","Rooms","navigate","useNavigate","userFormStore","useUserFormStore","useEffect","reset","items","map","item","toBeCollect","setRoom","Community3Item","Buildings","useBuildings","isCommunity2ChildAsRoom","level","CommunityLevel","setCommunityByType","length","renderFooter","Community2"],"sourceRoot":""}