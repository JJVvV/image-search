{"version":3,"file":"static/js/743.9dff1b1b.chunk.js","mappings":"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","sources":["components/divider/divider.component.tsx","components/placeholder/placeholder.component.tsx","pages/room/detail/detail.component.tsx","pages/room/footer/footer.component.tsx","pages/room/room.component.tsx","pages/room/user-list/user-list.component.tsx","pages/room/user/user.component.tsx","webpack://lishui_population_reporting_mobile/./src/components/placeholder/placeholder.component.sass?2982","pages/room/detail/detail.component.sass","webpack://lishui_population_reporting_mobile/./src/pages/room/footer/footer.component.sass?6ea6","pages/room/room.component.sass","webpack://lishui_population_reporting_mobile/./src/pages/room/user-list/user-list.component.sass?9a4e","webpack://lishui_population_reporting_mobile/./src/pages/room/user/user.component.sass?f506"],"sourcesContent":["import React, { CSSProperties } from 'react'\r\n\r\ntype Props = {\r\n  color?: string\r\n  height: number\r\n  style?: CSSProperties\r\n  className?: string\r\n}\r\nexport const Divider: React.FC<Props> = React.memo((props) => {\r\n  const bgColor = props.color ?? 'var(--divide-bg-color)'\r\n  return (\r\n    <div\r\n      className={props.className}\r\n      style={{ ...props.style, backgroundColor: bgColor, height: props.height }}\r\n    ></div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport styles from './placeholder.component.sass'\r\n\r\ntype Props = {\r\n  title: string\r\n}\r\nexport const Placeholder: React.FC<Props> = React.memo((props) => {\r\n  return (\r\n    <div className={styles['placeholder']}>\r\n      <div className={styles['img']}></div>\r\n      <div className={styles['title']}>{props.title}</div>\r\n    </div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport { Footer } from '../footer'\r\nimport styles from './detail.component.sass'\r\nimport { UserList } from '../user-list'\r\nimport { useCommunityUsers, useStore } from '@/hooks'\r\n\r\nexport const Detail: React.FC = React.memo(() => {\r\n  const store = useStore()\r\n  const users = useCommunityUsers(store.room?.id)\r\n  if (!users) {\r\n    return null\r\n  }\r\n  const text = users.length ? '变更信息' : '采集信息'\r\n  return (\r\n    <div className={styles['wrapper']}>\r\n      <UserList />\r\n      <Footer text={text} />\r\n    </div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport { Button } from 'antd-mobile'\r\nimport styles from './footer.component.sass'\r\nimport { useEventCallback } from '@/hooks'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\ntype Props = {\r\n  text?: string\r\n}\r\nexport const Footer: React.FC<Props> = React.memo((props) => {\r\n  const navigator = useNavigate()\r\n  const onClick = useEventCallback(() => {\r\n    navigator('update')\r\n  })\r\n  return (\r\n    <div className={styles['footer']}>\r\n      <Button block color=\"primary\" size=\"middle\" onClick={onClick}>\r\n        {props.text || '采集信息'}\r\n      </Button>\r\n    </div>\r\n  )\r\n})\r\n","import { Layout } from '@/components/layout'\r\nimport { Divider } from '@/components/divider'\r\nimport { useStore } from '@/hooks'\r\nimport React from 'react'\r\nimport styles from './room.component.sass'\r\nimport { Detail } from './detail'\r\n\r\ntype Props = {\r\n  // id: number\r\n}\r\n\r\nexport const Room: React.FC<Props> = React.memo((props) => {\r\n  const store = useStore()\r\n  const currenntLevel = 5\r\n  return (\r\n    <Layout\r\n      level={currenntLevel}\r\n      showSearch={false}\r\n      showStatus={store.room?.toBeCollect}\r\n      gmtModified={store.room?.gmtModified}\r\n    >\r\n      <div className={styles['wrapper']}>\r\n        <Divider height={7} />\r\n        <Detail />\r\n      </div>\r\n    </Layout>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport { User } from '../user'\r\nimport { useCommunityUsers, useStore } from '@/hooks'\r\nimport { Placeholder } from '@/components/placeholder'\r\nimport styles from './user-list.component.sass'\r\nimport { Footer } from '../footer'\r\nexport const UserList: React.FC = React.memo(() => {\r\n  const store = useStore()\r\n  const users = useCommunityUsers(store.room?.id, true)\r\n  const renderUsers = () => {\r\n    if (!users) {\r\n      return null\r\n    }\r\n    if (!users.length) {\r\n      return <Placeholder title=\"暂无用户信息\" />\r\n    }\r\n    return users.map((user, index) => {\r\n      return <User index={index} key={`${user.id}`} data={user} />\r\n    })\r\n  }\r\n  if (!users) {\r\n    return null\r\n  }\r\n  const text = users.length ? '变更信息' : '采集信息'\r\n  return (\r\n    <div className={styles['wrapper']}>\r\n      {renderUsers()}\r\n      <Footer text={text} />\r\n    </div>\r\n  )\r\n})\r\n","import { Divider } from '@/components/divider'\r\nimport { useFormItems } from '@/hooks'\r\nimport { FormattedCommunityUserData, UserInfoItemConfig } from '@/types'\r\nimport React from 'react'\r\nimport styles from './user.component.sass'\r\n\r\ntype Props = {\r\n  index: number\r\n  data: FormattedCommunityUserData\r\n}\r\nexport const User: React.FC<Props> = React.memo((props) => {\r\n  const [basics, others] = useFormItems()\r\n\r\n  const renderItems = (data: UserInfoItemConfig[]) => {\r\n    return data.map((config) => {\r\n      let value = (props.data as any)[config.key]\r\n      if (Array.isArray(value)) {\r\n        value = value?.[0] ?? value\r\n      }\r\n      if (typeof value === 'boolean') {\r\n        value = value ? '是' : '否'\r\n      }\r\n      return (\r\n        <div key={config.key} className={styles['item']}>\r\n          <div className={styles['item-label']}>{config.name}</div>\r\n          <div>{value}</div>\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  const basicItems = renderItems(basics)\r\n  const otherItems = renderItems(others)\r\n  return (\r\n    <div className={styles['wrapper']}>\r\n      <div className={styles['header-wrapper']}>\r\n        <span className={styles['header-name-wrapper']}>\r\n          <div className={styles['user-icon']}></div>\r\n          <span className={styles['header-name']}>住户{props.index + 1}</span>\r\n        </span>\r\n      </div>\r\n      <div className={styles['form-header']}>基本信息</div>\r\n      {basicItems}\r\n      <Divider\r\n        color=\"var(--main-border-color)\"\r\n        height={1}\r\n        style={{ marginLeft: 16, marginRight: 16 }}\r\n        className={styles['divider']}\r\n      />\r\n      <div className={styles['form-header']}>其他信息</div>\r\n      {otherItems}\r\n    </div>\r\n  )\r\n})\r\n","// extracted by mini-css-extract-plugin\nexport default {\"placeholder\":\"placeholder_component_placeholder__IehCM\",\"img\":\"placeholder_component_img__pIJNd\",\"title\":\"placeholder_component_title__9mXVB\"};","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"footer_component_footer__LjFDM\",\"form\":\"footer_component_form__E8cIs\",\"label\":\"footer_component_label__QVIda\",\"input\":\"footer_component_input__jNsOZ\",\"tip\":\"footer_component_tip__zwXVU\",\"warning-icon\":\"footer_component_warning-icon__+U4-A\",\"button\":\"footer_component_button__MVxxi\"};","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"user-list_component_wrapper__kB9-f\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"user_component_item__f1RU1\",\"item-label\":\"user_component_item-label__r72bA\",\"item-value\":\"user_component_item-value__Xqemt\",\"header-wrapper\":\"user_component_header-wrapper__ODC9Z\",\"user-icon\":\"user_component_user-icon__kbhCq\",\"header-name-wrapper\":\"user_component_header-name-wrapper__HDRuc\",\"header-name\":\"user_component_header-name__OXJ21\",\"form-header\":\"user_component_form-header__zb8N4\"};"],"names":["Divider","React","props","bgColor","color","className","style","backgroundColor","height","Placeholder","styles","title","Detail","store","useStore","users","useCommunityUsers","room","id","text","length","Footer","navigator","useNavigate","onClick","useEventCallback","block","size","Room","level","showSearch","showStatus","toBeCollect","gmtModified","UserList","map","user","index","data","User","useFormItems","basics","others","renderItems","config","value","key","Array","isArray","name","basicItems","otherItems","marginLeft","marginRight"],"sourceRoot":""}